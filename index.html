<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Data Formulir</title>
  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
</head>
<body>

<div class="container mt-5">
  <h2>Formulir Input Data</h2>
  <form id="dataForm">
    <div class="form-group">
      <label for="nama">Nama Lengkap:</label>
      <input type="text" class="form-control" id="nama" required>
    </div>
    <div class="form-group">
      <label for="telepon">Nomor Telepon:</label>
      <input type="tel" class="form-control" id="telepon" required>
    </div>
    <div class="form-group">
      <label for="rt_rw">RT/RW:</label>
      <input type="text" class="form-control" id="rt_rw" required>
    </div>
    <div class="form-group">
      <label for="dusun">Dusun:</label>
      <input type="text" class="form-control" id="dusun" required>
    </div>
    <div class="form-group">
      <label for="desa">Desa:</label>
      <input type="text" class="form-control" id="desa" required>
    </div>
    <div class="form-group">
      <label for="kecamatan">Kecamatan:</label>
      <input type="text" class="form-control" id="kecamatan" required>
    </div>
    <button type="button" class="btn btn-primary" onclick="simpanData()">Simpan</button>
  </form>

  <h2>Data Tersimpan</h2>
  <table class="table" id="dataTable">
    <thead>
      <tr>
        <th>Nama</th>
        <th>Nomor Telepon</th>
        <th>RT/RW</th>
        <th>Dusun</th>
        <th>Desa</th>
        <th>Kecamatan</th>
        <th>Aksi</th>
      </tr>
    </thead>
    <tbody>
      <!-- Data akan ditambahkan secara dinamis menggunakan jQuery -->
    </tbody>
  </table>
</div>

<!-- jQuery and Bootstrap JS -->
<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

<script>
  // Data JSON sementara
  var dataJson = [];

  function simpanData() {
    // Ambil nilai dari input
    var nama = $("#nama").val();
    var telepon = $("#telepon").val();
    var rt_rw = $("#rt_rw").val();
    var dusun = $("#dusun").val();
    var desa = $("#desa").val();
    var kecamatan = $("#kecamatan").val();

    // Tambahkan data ke tabel dan simpan dalam array JSON
    dataJson.push({ "Nama": nama, "Telepon": telepon, "RT_RW": rt_rw, "Dusun": dusun, "Desa": desa, "Kecamatan": kecamatan });
    updateTable();

    // Reset formulir setelah simpan
    $("#dataForm")[0].reset();
  }

  function updateTable() {
    // Kosongkan tabel
    $("#dataTable tbody").empty();

    // Tambahkan data dari array JSON ke tabel
    $.each(dataJson, function (index, data) {
      $("#dataTable tbody").append("<tr><td>" + data.Nama + "</td><td>" + data.Telepon + "</td><td>" + data.RT_RW + "</td><td>" + data.Dusun + "</td><td>" + data.Desa + "</td><td>" + data.Kecamatan + "</td><td><button class='btn btn-warning btn-sm' onclick='editData(" + index + ")'>Edit</button> <button class='btn btn-danger btn-sm' onclick='hapusData(" + index + ")'>Hapus</button></td></tr>");
    });
  }

  function editData(index) {
    // Isi formulir dengan data yang akan diubah
    var data = dataJson[index];
    $("#nama").val(data.Nama);
    $("#telepon").val(data.Telepon);
    $("#rt_rw").val(data.RT_RW);
    $("#dusun").val(data.Dusun);
    $("#desa").val(data.Desa);
    $("#kecamatan").val(data.Kecamatan);

    // Hapus data dari array JSON
    dataJson.splice(index, 1);

    // Update tabel setelah edit
    updateTable();
  }

  function hapusData(index) {
    // Hapus data dari array JSON
    dataJson.splice(index, 1);

    // Update tabel setelah hapus
    updateTable();
  }
</script>

</body>
</html>